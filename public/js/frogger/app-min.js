Object.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Object.prototype.reset=function(){this.x=200,this.y=400};var score=0,Enemy=function(e,t){this.sprite="images/enemy-bug.png",this.x=e,this.y=t,this.speed=Math.floor(200*Math.random()+100)};Enemy.prototype.update=function(e){this.x<=550?this.x+=this.speed*e:this.x=-2,player.x>=this.x-30&&player.x<=this.x+30&&player.y>=this.y-30&&player.y<=this.y+30&&(player.reset(),console.log("Player collided with enemy"))},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};var Player=function(){this.sprite="images/char-boy.png",this.x=200,this.y=400};Player.prototype.update=function(){if("left"===this.ctlKey&&this.x>0?(this.x=this.x-50,console.log("Player pressed left")):"right"===this.ctlKey&&400!=this.x?(this.x=this.x+50,console.log("Player pressed right")):"up"===this.ctlKey?(this.y=this.y-50,console.log("Player pressed up")):"down"===this.ctlKey&&400!=this.y&&(this.y=this.y+50,console.log("Player pressed down")),this.ctlKey=null,this.y<25){this.reset(),console.log("Player reached water!"),score+=1;var e='<h1 id="scoreId">%data%</h1>';e=e.replace("%data%","Your current score is "+score),$("#scoreId").remove(),$(".score").append(e)}},Player.prototype.handleInput=function(e){this.ctlKey=e};var allEnemies=[];!function e(){allEnemies.push(new Enemy(-2,60)),allEnemies.push(new Enemy(-2,100)),allEnemies.push(new Enemy(-2,150)),allEnemies.push(new Enemy(-2,220))}();var player=new Player;player.handleInput(),document.addEventListener("keyup",function(e){var t={37:"left",38:"up",39:"right",40:"down"};player.handleInput(t[e.keyCode])}),$("#scoreId").append("<h1> Your current score is: "+score+"</h1>");